---
title: CLI Reference
description: Complete reference for all memories.sh CLI commands.
---

The `memories` CLI is the primary interface for managing your AI agent memory store. All commands operate on a local SQLite database at `~/.config/memories/local.db`.

## Quick Reference

```bash
# First-time setup (auto-configures MCP for detected tools)
memories setup

# Add memories
memories add --rule "Always use TypeScript strict mode"
memories add --decision "Chose Tailwind for utility-first CSS"
memories add --fact "API rate limit is 100/min"

# Search
memories search "authentication"
memories search "how to handle login" --semantic

# Reminders
memories reminders add "0 9 * * 1-5" "Review open TODOs"
memories reminders run

# Generate instruction files
memories generate all

# Sync config files
memories files ingest
memories files apply --global
```

## Command Overview

### Setup Commands

| Command | Description |
|---------|-------------|
| [`init`](/docs/cli/init) | Initialize memories and auto-configure MCP for detected tools (`setup` alias) |
| [`login`](/docs/cli/login) | Authenticate for cloud sync features |

### Core Commands

| Command | Description |
|---------|-------------|
| [`add`](/docs/cli/add) | Add a new memory (rule, decision, fact, or note) |
| [`recall`](/docs/cli/recall) | Get rules and relevant memories for AI agents |
| [`prompt`](/docs/cli/prompt) | Output memories formatted for AI system prompts |

### Search Commands

| Command | Description |
|---------|-------------|
| [`search`](/docs/cli/search) | Keyword or semantic search across memories |
| [`list`](/docs/cli/list) | List memories with optional filters |
| [`embed`](/docs/cli/embed) | Generate embeddings for semantic search |

### Management Commands

| Command | Description |
|---------|-------------|
| [`edit`](/docs/cli/edit) | Edit an existing memory |
| [`forget`](/docs/cli/forget) | Soft-delete memories by ID or bulk filter |
| [`tag`](/docs/cli/tag) | Bulk tag and untag operations |
| [`reminders`](/docs/cli/reminders) | Manage cron-based reminders (`add`, `list`, `run`, `enable`, `disable`, `delete`) |

### Generation Commands

| Command | Description |
|---------|-------------|
| [`generate`](/docs/cli/generate) | Generate IDE rule files from memories |
| [`diff`](/docs/cli/diff) | Show what changed since last generate |

### Data Commands

| Command | Description |
|---------|-------------|
| [`export`](/docs/cli/export) | Export memories to JSON or YAML |
| [`import`](/docs/cli/import) | Import memories from JSON or YAML |
| [`ingest`](/docs/cli/ingest) | Import from existing IDE rule files |

### Sync Commands

| Command | Description |
|---------|-------------|
| [`sync`](/docs/cli/sync) | Manage cloud sync |
| [`files`](/docs/cli/files) | Sync config files (.agents, .cursor, .claude, etc.) |

### System Commands

| Command | Description |
|---------|-------------|
| [`config`](/docs/cli/config) | Manage agent configuration |
| [`org`](/docs/cli/org) | List and switch active organization workspace |
| [`serve`](/docs/cli/serve) | Start the MCP server |
| [`stats`](/docs/cli/stats) | Show memory statistics |
| [`doctor`](/docs/cli/doctor) | Check health and diagnose issues |
| [`hook`](/docs/cli/hook) | Manage git hooks |

## Global Behavior

### Project Detection

- When inside a git repository, commands automatically scope to the current project (detected from the `origin` remote URL)
- When outside a git repo, or when `--global` is passed, memories are stored with global scope
- Global memories are included in all project queries

### Database

- All memories are stored in a single SQLite database at `~/.config/memories/local.db`
- FTS5 full-text search with BM25 ranking
- Vector embeddings for semantic search (dimension depends on selected model; default is 384)
- Soft-deleted memories are retained but excluded from queries

### MCP Integration

When you run `memories setup` (or `memories init`), it automatically:
1. Detects installed AI tools (Cursor, Claude Code, Windsurf, VS Code)
2. Configures MCP for each detected tool
3. Generates instruction files with your existing memories
4. Imports existing project skill configs (such as `.claude/skills` and `.codex/skills`) into memories

This means your memories are immediately available to your AI tools via MCP.
