---
title: Tools Reference
description: Complete reference for all MCP tools exposed by the memories.sh server.
---

The memories.sh MCP server exposes 7 tools that AI agents can call to interact with your memory store.

## get_context

The primary tool for AI agents. Returns all active rules (with path and category metadata) plus memories relevant to an optional search query.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `query` | `string` | No | Search query to find relevant memories |
| `project_id` | `string` | No | Project identifier (e.g., `github.com/user/repo`) to include project-specific rules |
| `limit` | `number` | No | Max memories to return (default: 5) |

```json
{
  "name": "get_context",
  "arguments": {
    "query": "authentication flow",
    "project_id": "github.com/user/repo",
    "limit": 5
  }
}
```

Returns all rules first (including path scope and category when set), followed by relevant search results. Uses FTS5 with BM25 ranking for the search query, falling back to LIKE matching for databases without FTS support.

## add_memory

Store a new memory with optional metadata, path scoping, and categorization.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `content` | `string` | Yes | Memory content |
| `type` | `enum` | No | `rule`, `decision`, `fact`, `note`, `skill` (default: `note`) |
| `tags` | `string[]` | No | Array of tags |
| `project_id` | `string` | No | Project identifier to scope to a project (omit for global) |
| `paths` | `string[]` | No | Glob patterns for path-scoped rules |
| `category` | `string` | No | Grouping key (becomes rule filename or skill directory) |
| `metadata` | `object` | No | Extended attributes (JSON object, primarily for skills) |

```json
{
  "name": "add_memory",
  "arguments": {
    "content": "Use RESTful naming conventions for all endpoints",
    "type": "rule",
    "paths": ["src/api/**", "src/routes/**"],
    "category": "api"
  }
}
```

Adding a skill:

```json
{
  "name": "add_memory",
  "arguments": {
    "content": "## Deploy\n\n1. Run tests\n2. Build\n3. Deploy to production",
    "type": "skill",
    "category": "deploy",
    "metadata": {
      "name": "deploy",
      "description": "Deploy the application to production"
    }
  }
}
```

## search_memories

Full-text search across memories with BM25 ranking. Uses FTS5 when available, falling back to LIKE matching.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `query` | `string` | Yes | Search query |
| `project_id` | `string` | No | Project identifier to include project-specific memories |
| `type` | `enum` | No | Filter by memory type: `rule`, `decision`, `fact`, `note`, `skill` |
| `limit` | `number` | No | Max results (default: 10) |

```json
{
  "name": "search_memories",
  "arguments": {
    "query": "database schema",
    "project_id": "github.com/user/repo",
    "type": "decision"
  }
}
```

## get_rules

Get all active rules, split by global and project scope.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `project_id` | `string` | No | Project identifier to include project-specific rules |

```json
{
  "name": "get_rules",
  "arguments": {
    "project_id": "github.com/user/repo"
  }
}
```

## list_memories

List recent memories with optional filters.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `type` | `enum` | No | Filter by type: `rule`, `decision`, `fact`, `note`, `skill` |
| `tags` | `string` | No | Filter by tag (partial match) |
| `project_id` | `string` | No | Project identifier to include project-specific memories |
| `limit` | `number` | No | Max results (default: 20) |

## edit_memory

Update an existing memory's content, type, tags, path scope, or category.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | `string` | Yes | Memory ID |
| `content` | `string` | No | New content |
| `type` | `enum` | No | New type (`rule`, `decision`, `fact`, `note`, `skill`) |
| `tags` | `string[]` | No | New tags |
| `paths` | `string[]` | No | New glob patterns for path scoping |
| `category` | `string` | No | New grouping key |
| `metadata` | `object` | No | New extended attributes |

```json
{
  "name": "edit_memory",
  "arguments": {
    "id": "abc123def456",
    "paths": ["src/api/**"],
    "category": "api"
  }
}
```

## forget_memory

Soft-delete a memory by ID.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | `string` | Yes | Memory ID to forget |
